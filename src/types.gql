module.exports = {
  schema:  `
  type Book {
    title: String
    author: Author
  }

  type Author {
    name: String
    books: [Book]
  }

  type Query {
    books: [Book]
    authors: [Author]
  }
  `,
  resolvers: (model) => {
    return {
       Book: {
          author(book) {
            return model.authors.findById(book.author._id)
          }
        },
        Author: {
          books(author) {
            return model.books.find({author: author._id})
          }
        },
        Query: {
          books: () => model.books.find(),
          authors: () => model.authors.find(),
        }
    }
  }
} 
